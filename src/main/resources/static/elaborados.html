<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Celulares</title>
    <meta content="" name="description">
    <meta content="" name="keywords">




    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Roboto:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Work+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet">

    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <link href="assets/css/main.css" rel="stylesheet">
</head>

<body>
    <header id="header" class="header d-flex align-items-center">
        <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

            <a href="Admin.html" class="logo d-flex align-items-center">
                <h1><label>MOVILAND</label> <span style="color:rgb(247, 122, 39);">.Admin</span></h1>
            </a>

            <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
            <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>
            <nav id="navbar" class="navbar">
                <ul>
                    <li><a href="index.html">Salir</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main id="main">
        <div class="breadcrumbs d-flex align-items-center"
            style="background-image: url('img/inicio/elaborados-font-main-img.jpg');">
            <div class="container position-relative d-flex flex-column align-items-center" data-aos="fade">

                <h2>Celulares</h2>
                <ol>
                    <li><a href="Admin.html">Productos</a></li>
                    <li>Registro de Celulares</li>
                </ol>

            </div>
        </div><!-- End Breadcrumbs -->

        <!-- ======= Our Projects Section ======= -->
        <section id="projects" class="container">
            <table class="table" style="text-align: center;">
                <thead class="thead-dark" style="background-color: black">
                    <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Marca</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Stock</th>
                        <th scope="col">Pantalla</th>
                        <th scope="col">Batería</th>
                        <th scope="col">S.O</th>
                        <th scope="col">Camara</th>
                        <th scope="col">Almacenamiento</th>
                        <th scope="col">Imagen</th>
                        <th scope="col">Precio</th>
                        <th scope="col" colspan="2">Opciones</th>
                    </tr>
                </thead>
                <tbody id="pedidoBody">

                </tbody>
            </table>
        </section><!-- End Our Projects Section -->

    </main><!-- End #main -->

    <!-- ========= Scripts para contenido Diámico ========= -->

    <script>
        // Obtener los datos de los pedidos desde el servidor
        fetch('http://localhost:8085/api/v1/moviland/celular')
            .then(response => response.json())
            .then(pedidos => {
                // Llenar dinámicamente la tabla de pedidos
                const pedidosContainer = document.getElementById('pedidoBody');

                pedidos.forEach((pedido, index) => {
                    const row = document.createElement('tr');
                    row.classList.add('pedido-row');

                    row.innerHTML = `
                    <td scope="row">${index + 1}</td>
                    <th id="marca">${pedido.marca}</th>
                    <td id="nombre">${pedido.nombre}</td>
                    <td id="stock">${pedido.stock}</td>
                    <td id="pantalla">${pedido.pantalla}</td>
                    <td id="bateria">${pedido.bateria}</td>
                    <td id="sistemaOperativo">${pedido.sistemaOperativo}</td>
                    <td id="camara">${pedido.camara}</td>
                    <td id="almacenamiento">${pedido.almacenamiento}</td>
                    <td id="imagen">${pedido.imagen}</td>
                    <td id="precio">${pedido.precio}</td>
                    <td><svg class="svg-content" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" width="60px" height="60px" viewBox="0 0 488.936 488.936"
                            xml:space="preserve" onclick="eliminarPedido(${index})">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <g>
                                    <g>
                                        <path
                                            d="M381.16,111.948H107.376c-6.468,0-12.667,2.819-17.171,7.457c-4.504,4.649-6.934,11.014-6.738,17.477l9.323,307.69 c0.39,12.92,10.972,23.312,23.903,23.312h20.136v-21.012c0-24.121,19.368-44.049,43.488-44.049h127.896 c24.131,0,43.893,19.928,43.893,44.049v21.012h19.73c12.933,0,23.52-10.346,23.913-23.268l9.314-307.7 c0.195-6.462-2.234-12.863-6.738-17.513C393.821,114.767,387.634,111.948,381.16,111.948z">
                                        </path>
                                        <path
                                            d="M309.166,435.355H181.271c-6.163,0-11.915,4.383-11.915,11.516v30.969c0,6.672,5.342,11.096,11.915,11.096h127.895 c6.323,0,11.366-4.773,11.366-11.096v-30.969C320.532,440.561,315.489,435.355,309.166,435.355z">
                                        </path>
                                        <path
                                            d="M427.696,27.106C427.696,12.138,415.563,0,400.591,0H88.344C73.372,0,61.239,12.138,61.239,27.106v30.946 c0,14.973,12.133,27.106,27.105,27.106H400.59c14.973,0,27.105-12.133,27.105-27.106L427.696,27.106L427.696,27.106z">
                                        </path>
                                    </g>
                                </g>
                            </g>
                        </svg>
                    </td>
                    <td><svg class="svg-content" width="60px" height="60px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" onclick="editarPedido(${index})>
                        <path d="M21 22H3C2.59 22 2.25 21.66 2.25 21.25C2.25 20.84 2.59 20.5 3 20.5H21C21.41 20.5 21.75 20.84 21.75 21.25C21.75 21.66 21.41 22 21 22Z" fill="#292D32"/>
                        <path d="M19.0206 3.48162C17.0806 1.54162 15.1806 1.49162 13.1906 3.48162L11.9806 4.69162C11.8806 4.79162 11.8406 4.95162 11.8806 5.09162C12.6406 7.74162 14.7606 9.86162 17.4106 10.6216C17.4506 10.6316 17.4906 10.6416 17.5306 10.6416C17.6406 10.6416 17.7406 10.6016 17.8206 10.5216L19.0206 9.31162C20.0106 8.33162 20.4906 7.38162 20.4906 6.42162C20.5006 5.43162 20.0206 4.47162 19.0206 3.48162Z" fill="#292D32"/>
                        <path d="M15.6103 11.5308C15.3203 11.3908 15.0403 11.2508 14.7703 11.0908C14.5503 10.9608 14.3403 10.8208 14.1303 10.6708C13.9603 10.5608 13.7603 10.4008 13.5703 10.2408C13.5503 10.2308 13.4803 10.1708 13.4003 10.0908C13.0703 9.81078 12.7003 9.45078 12.3703 9.05078C12.3403 9.03078 12.2903 8.96078 12.2203 8.87078C12.1203 8.75078 11.9503 8.55078 11.8003 8.32078C11.6803 8.17078 11.5403 7.95078 11.4103 7.73078C11.2503 7.46078 11.1103 7.19078 10.9703 6.91078C10.9491 6.86539 10.9286 6.82022 10.9088 6.77532C10.7612 6.442 10.3265 6.34455 10.0688 6.60231L4.34032 12.3308C4.21032 12.4608 4.09032 12.7108 4.06032 12.8808L3.52032 16.7108C3.42032 17.3908 3.61032 18.0308 4.03032 18.4608C4.39032 18.8108 4.89032 19.0008 5.43032 19.0008C5.55032 19.0008 5.67032 18.9908 5.79032 18.9708L9.63032 18.4308C9.81032 18.4008 10.0603 18.2808 10.1803 18.1508L15.9016 12.4295C16.1612 12.1699 16.0633 11.7245 15.7257 11.5804C15.6877 11.5642 15.6492 11.5476 15.6103 11.5308Z" fill="#292D32"/>
                        </svg>                        
                    </td>
                `;

                pedidosContainer.appendChild(row);
                });
            })
            .catch(error => console.error('Error al obtener los pedidos:', error));

        // Función para eliminar un pedido
        function eliminarPedido(index) {
            // Obtener el ID del pedido
            const pedidoId = index + 1;

            // Enviar una solicitud al servidor para eliminar el pedido
            fetch(`/api/v1/moviland/celular/${pedidoId}`, {
                method: 'DELETE',
            })
                .then(response => response.json())
                .then(data => {
                    // Eliminar el pedido de la interfaz si la eliminación en el servidor fue exitosa
                    if (data.success) {
                        const pedidosContainer = document.getElementById('pedidoBody');
                        const rowToDelete = pedidosContainer.querySelector(`.pedido-row:nth-child(${index + 1})`);
                        if (rowToDelete) {
                            pedidosContainer.removeChild(rowToDelete);
                            alert(`Pedido ${index + 1} eliminado con éxito`);
                        } else {
                            alert('Error al eliminar el pedido de la interfaz');
                        }
                    } else {
                        alert('Error al eliminar el pedido en el servidor');
                    }
                })
                .catch(error => console.error('Error al eliminar el pedido:', error));
        }

        function editarPedido(index) {
            // Obtener el pedido específico
            const pedido = pedidos[index];

            // Guardar los datos localmente (puedes usar localStorage o sessionStorage)
            localStorage.setItem('pedidoEditar', JSON.stringify(pedido));

            // Redirigir a la página de edición con el ID del pedido
            window.location.href = `/editar.html?id=${pedido.id}`;
        }

    </script>
    <!-- // Agregar un evento de clic al elemento del pedido
                    // row.addEventListener('click', function () {
                    //     // Redirigir a pedido.html y pasar el ID del pedido como parámetro
                    //     window.location.href = `/ActualizarPedido.html?id=${pedido.id}`;
                    // });
                    // row.addEventListener('click', function () {
                    //     guardarInformacionProducto(row);
                    // });
                    // pedidosContainer.appendChild(row); -->

    <!-- function guardarInformacionProducto(elemento) {
            var nombreCliente = elemento.getElementById('nombre');
            var correoCliente = elemento.getElementById('correo');
            var telefonoCliente = elemento.getElementById('telefono');
            var direccionCliente = elemento.getElementById('direccion');
            var cantidadJoya = elemento.getElementById('cantidad');

            localStorage.setItem('nombreCliente', nombreCliente);
            localStorage.setItem('correoCliente', correoCliente);
            localStorage.setItem('telefonoCliente', telefonoCliente);
            localStorage.setItem('direccionCliente', direccionCliente);
            localStorage.setItem('cantidadJoya', cantidadJoya);
        } -->

    <!-- ======= Footer ======= -->
    <footer id="footer" class="footer">
        <div class="footer-content position-relative">
            <div class="container">
                <div class="row">

                    <div class="col-lg-4 col-md-6">
                        <div class="footer-info">
                            <h3>Joyeria Carito</h3>
                            <p>
                                Lima <br>
                                Perú<br><br>
                                <strong>Celular:</strong> +51 988 945 574<br>
                                <strong>Email:</strong> joyeriacarito@gmail.com<br>
                            </p>
                            <div class="social-links d-flex mt-3">
                                <a href="#" class="d-flex align-items-center justify-content-center"><i
                                        class="bi bi-twitter"></i></a>
                                <a href="#" class="d-flex align-items-center justify-content-center"><i
                                        class="bi bi-facebook"></i></a>
                            </div>
                        </div>
                    </div><!-- End footer info column-->

                    <div class="col-lg-2 col-md-3 footer-links">
                        <h4>Accesos directos de la Pagina Web</h4>
                        <ul>
                            <li><a href="#">Inicio</a></li>
                            <li><a href="#">Aretes</a></li>
                            <li><a href="#">Anillos</a></li>
                            <li><a href="#">Bautizo</a></li>
                        </ul>
                    </div>
                    <div class="col-lg-2 col-md-3 footer-links">
                        <h4>Nuestros Servicios</h4>
                        <ul>
                            <li><a href="#">Personalización</a></li>
                            <li><a href="#">Limpieza de Joya</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer-legal text-center position-relative">
            <div class="container">
                <div class="copyright">
                    &copy; Copyright <strong><span>JoyeriaCarito</span></strong>. Todos los derechos reservados
                </div>
                <div class="credits">
                    Elaborado por: <a href="#">Grupo3 c:</a>
                </div>
            </div>
        </div>
    </footer>
    <!-- End Footer -->

    <a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>

    <div id="preloader"></div>

    <!-- Vendor JS Files -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>

</body>

</html>